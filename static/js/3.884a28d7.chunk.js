(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{301:function(t,e,s){t.exports={postsBlcok:"MyPosts_postsBlcok__1itXU",posts:"MyPosts_posts__3pDe3"}},302:function(t,e,s){t.exports={item:"Post_item__1awq5"}},303:function(t,e,s){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__17A9x"}},305:function(t,e,s){"use strict";s.r(e);var c=s(4),n=s(29),i=s(30),o=s(31),r=s(32),a=s(0),u=s.n(a),j=s(99),p=s(12),l=s(301),d=s.n(l),b=s(302),f=s.n(b),O=s(1),h=function(t){return Object(O.jsxs)("div",{className:f.a.item,children:[Object(O.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/1566/2889/articles/keanu-reeves-portada_2048x.progressive.jpg?v=1625562669",alt:"avatar"}),t.message,Object(O.jsx)("div",{children:Object(O.jsxs)("span",{children:["Likes: ",t.likes]})})]})},x=s(131),m=s(132),v=s(70),P=s(69),g=Object(v.a)(10),k=Object(m.a)({form:"AddNewPostForm"})((function(t){return Object(O.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(O.jsx)("div",{children:Object(O.jsx)(x.a,{name:"newtPost",component:P.b,validate:[v.b,g],placeholder:"Post message"})}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{children:"Add post"})})]})})),S=function(t){var e=t.posts.map((function(t){return Object(O.jsx)(h,{message:t.message,likes:t.likesCount})}));return Object(O.jsxs)("div",{className:d.a.postsBlcok,children:[Object(O.jsx)("h3",{children:"My posts"}),Object(O.jsx)(k,{onSubmit:function(e){t.addPost(e.newtPost)}}),Object(O.jsx)("div",{className:d.a.posts,children:e})]})},_=Object(p.b)((function(t){return{posts:t.profilePage.postData,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){t(Object(j.a)(e))}}}))(S),w=s(39),y=s(303),B=s.n(y),A=s(133),N=function(t){var e=Object(a.useState)(!1),s=Object(A.a)(e,2),c=s[0],n=s[1],i=Object(a.useState)(t.status),o=Object(A.a)(i,2),r=o[0],u=o[1];Object(a.useEffect)((function(){u(t.status)}),[t.status]);return Object(O.jsxs)("div",{children:[!c&&Object(O.jsx)("div",{children:Object(O.jsx)("span",{onDoubleClick:function(){n(!0)},children:t.status||"----------"})}),c&&Object(O.jsx)("div",{children:Object(O.jsx)("input",{onBlur:function(){n(!1),t.updateStatus(r)},onChange:function(t){u(t.currentTarget.value)},value:r,autoFocus:!0})})]})},C=function(t){if(!t.profile)return Object(O.jsx)(w.a,{});var e=t.profile.contacts,s=Object.entries(e);return Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:B.a.descriptionBlock,children:[Object(O.jsx)("img",{src:t.profile.photos.large,alt:"UserPhoto"}),Object(O.jsx)(N,{status:t.status,updateStatus:t.updateStatus}),Object(O.jsx)("p",{children:t.profile.fullName}),Object(O.jsx)("ul",{children:s.map((function(t){return Object(O.jsx)("li",{children:t})}))}),"Avatar + description"]})})},D=function(t){return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(O.jsxs)("div",{children:[Object(O.jsx)(C,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),Object(O.jsx)(_,{})]})},I=s(11),M=s(9),T=function(t){Object(o.a)(s,t);var e=Object(r.a)(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(i.a)(s,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.setProfile(t),this.props.setStatus(t)}},{key:"render",value:function(){return Object(O.jsx)(D,Object(c.a)({},this.props))}}]),s}(u.a.Component);e.default=Object(M.d)(Object(p.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{setProfile:j.c,setStatus:j.d,updateStatus:j.e}),I.f)(T)}}]);
//# sourceMappingURL=3.884a28d7.chunk.js.map